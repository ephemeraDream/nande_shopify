

<div class="main_help_center session-box-padding padding-top-30 padding-bottom-120" data-section-type="main-help-center">
  <div class="session-box-inner">
    <div class="help_center_title">
      {% if section.settings.title != blank %}
        <h2>{{ section.settings.title }}</h2>
      {% endif %}
      <div class="search_box">
        <predictive-search class="help-center-predictive-search">
          <form id="help-search-form" action="{{ routes.search_url }}" role="search" class="search">
            <div class="field">
              <input
                class="search__input field__input"
                id="Search-In-Template"
                type="search"
                name="q"
                value="{{ search.terms | escape }}"
                placeholder="{{ 'general.search.search' | t }}"
                role="combobox"
                aria-expanded="false"
                aria-owns="help-center-predictive-search-results"
                aria-controls="help-center-predictive-search-results"
                aria-haspopup="listbox"
                aria-autocomplete="list"
                autocorrect="off"
                autocomplete="off"
                autocapitalize="off"
                spellcheck="false"
              >
              <label class="field__label" for="Search-In-Template">{{ 'general.search.search' | t }}</label>
              <input name="options[prefix]" type="hidden" value="last">

              <button type="submit" class="search__button field__button" aria-label="{{ 'general.search.search' | t }}">
                <span class="svg-wrapper">
                  {{- 'icon-search.svg' | inline_asset_content -}}
                </span>
              </button>
              <button
                type="reset"
                class="reset__button field__button{% if search.terms == blank %} hidden{% endif %}"
                aria-label="{{ 'general.search.reset' | t }}"
              >
                <span class="svg-wrapper">
                  {{- 'icon-reset.svg' | inline_asset_content -}}
                </span>
              </button>
            </div>
          </form>
          
          <div class="predictive-search predictive-search--help-center" tabindex="-1" data-predictive-search>
            {%- render 'loading-spinner', class: 'predictive-search__loading-state' -%}
          </div>
        </predictive-search>
        
        {%- comment -%} 配置的博客数据，用于JavaScript过滤 {%- endcomment -%}
        <div style="display: none;" data-configured-blogs='[
          {% for block in section.blocks %}
            {% assign blog_item = block.settings.blog %}
            {
              "handle": "{{ blog_item.handle }}",
              "title": "{{ blog_item.title | escape }}",
              "url": "{{ blog_item.url }}"
            }{% unless forloop.last %},{% endunless %}
          {% endfor %}
        ]'></div>
      </div>
    </div>
    
    <style>
      .help_center_title .field {
        position: relative;
      }
      .help_center_title .search__input {
        padding-left: 5rem; /* 为左边的搜索按钮留出空间 */
        padding-right: 3rem; /* 为右边的重置按钮留出空间 */
      }
      .help_center_title .field__input:not(:placeholder-shown)~.field__label{
        left: 5rem;
      }
      .help_center_title .search__button {
        position: absolute;
        left: 0.5rem;
        top: 50%;
        transform: translateY(-50%);
        z-index: 2;
        background: transparent;
        border: none;
        padding: 0.5rem;
      }
      .help_center_title .reset__button {
        position: absolute;
        right: 0.5rem;
        top: 50%;
        transform: translateY(-50%);
        z-index: 2;
        background: transparent;
        border: none;
        padding: 0.5rem;
      }

      /* 帮助中心predictive-search样式 */
      .help-center-predictive-search {
        position: relative;
      }

      .predictive-search--help-center {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: #fff;
        border: 1px solid #E2DED6;
        border-radius: 6px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        z-index: 1000;
        max-height: 400px;
        overflow-y: auto;
      }

      .help-center-predictive-search__wrapper {
        display: flex;
        min-height: 200px;
      }

      .help-center-predictive-search__categories {
        flex: 0 0 200px;
        border-right: 1px solid #E2DED6;
        padding: 1rem;
        background: #f8f8f8;
      }

      .help-center-predictive-search__articles {
        flex: 1;
        padding: 1rem;
      }

      .help-center-predictive-search__heading {
        font-size: 1.2rem;
        font-weight: 600;
        margin: 0 0 1rem 0;
        color: #1F1F1F;
      }

      .help-center-predictive-search__categories-list {
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .help-center-predictive-search__category-item {
        margin-bottom: 0.5rem;
      }

      .help-center-predictive-search__category-link {
        display: block;
        padding: 0.5rem;
        color: #1F1F1F;
        text-decoration: none;
        border-radius: 4px;
        transition: background-color 0.2s;
      }

      .help-center-predictive-search__category-link:hover {
        background-color: #E2DED6;
      }

      .help-center-predictive-search__articles-list {
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .help-center-predictive-search__article-item {
        margin-bottom: 1rem;
      }

      .help-center-predictive-search__article-link {
        display: block;
        padding: 1rem;
        border: 1px solid #E2DED6;
        border-radius: 6px;
        text-decoration: none;
        color: #1F1F1F;
        transition: all 0.2s;
      }

      .help-center-predictive-search__article-link:hover {
        background-color: #f8f8f8;
        border-color: #ccc;
      }

      .help-center-predictive-search__article-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin: 0 0 0.5rem 0;
        color: #1F1F1F;
      }

      .help-center-predictive-search__article-excerpt {
        font-size: 0.9rem;
        color: #666;
        margin: 0 0 0.5rem 0;
        line-height: 1.4;
      }

      .help-center-predictive-search__article-blog {
        font-size: 0.8rem;
        color: #999;
        font-style: italic;
      }

      .help-center-predictive-search__no-results {
        color: #999;
        font-style: italic;
        text-align: center;
        padding: 2rem;
      }

      .help-center-predictive-search__search-all {
        border-top: 1px solid #E2DED6;
        padding: 1rem;
        background: #f8f8f8;
      }

      .help-center-predictive-search__search-all-button {
        width: 100%;
        padding: 0.8rem 1rem;
        background: #1F1F1F;
        color: #fff;
        border: none;
        border-radius: 4px;
        font-size: 1rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition: background-color 0.2s;
      }

      .help-center-predictive-search__search-all-button:hover {
        background: #333;
      }

      .help-center-predictive-search__search-all-button .svg-wrapper {
        width: 16px;
        height: 16px;
      }

      @media screen and (max-width: 768px) {
        .help-center-predictive-search__wrapper {
          flex-direction: column;
        }
        
        .help-center-predictive-search__categories {
          flex: none;
          border-right: none;
          border-bottom: 1px solid #E2DED6;
        }
      }
    </style>
    
    <div class="steps-grid padding-top-60">
      {% for block in section.blocks %}
        {% assign blog_item = block.settings.blog %}
        <a href="{{ blog_item.url }}" class="influencer-step">
          {{-
            block.settings.image
            | image_url: width: block.settings.image.width
            | image_tag: alt: block.settings.title, class: 'influencer-step-icon'
          -}}
          <div class="step-content">
            <h4>{{ blog_item.title }}</h4>
            <div class="text-body step-desc">{{ block.settings.text }}</div>
          </div>
        </a>
      {% endfor %}
    </div>
  </div>
</div>

<style type="text/css">
  .main_help_center .help_center_title{display:flex;justify-content: space-between;gap:3rem}
  .main_help_center .session-box-inner .search_box{
    width: 50%;
    max-width: 560px;
  }
  .main_help_center .search__input{background:#fff;height: 5.7rem;padding-left: 4rem;}
  .main_help_center .search__button{height: 5.7rem;left:0;right:unset;}
  .main_help_center .field__label{top:1.8rem;left: 4rem;color:#AAAAAA;}
  .main_help_center .field__input:focus~.field__label{left:4rem;}

  .main_help_center .steps-grid {
    display: grid;
    grid-template-columns: repeat(3, 2fr);
    gap: 2rem;
    position: relative;
  }
  .main_help_center .influencer-step {
      display: flex;
      flex-direction: column;
  }
  .main_help_center .influencer-step .step-content{
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding:1.7rem;
    background: #fff;
  }
  .main_help_center .influencer-step img{width: 100%;height:auto;}
  .main_help_center .influencer-step .step-desc{color:#7F7E75;font-size: 1.6rem;line-height:1.3em;}
  @media screen and (max-width: 1024px) {
    .main_help_center .steps-grid {
      grid-template-columns: repeat(2, 3fr);
    }
  }
  @media screen and (max-width: 768px) {
    .main_help_center .session-box-inner,
    .main_help_center .session-box-inner h4{
      width: 100%;
      max-width: 100%;
    }
    .main_help_center .session-box-inner .search_box,
    .main_help_center .session-box-inner .nd-btn{
      width: 100%;
      max-width: 100%;
    }
    .main_help_center .help_center_title{flex-direction: column;}

    .main_help_center .steps-grid {
      grid-template-columns: repeat(1, 3fr);
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById('help-search-form');
    const input = document.getElementById('Search-In-Template');
  
    form.addEventListener('submit', function (e) {
      e.preventDefault(); 
      const keyword = input.value.trim();
      if (keyword) {
        const targetURL = `https://www.maidesite.de/pages/topic-collection?view=help-search&keyword=${encodeURIComponent(keyword)}`;
        window.location.href = targetURL;
      }
    });
  });
  </script>
  

{% schema %}
{
  "name": "Main Help Center",
  "settings": [
    {
      "type": "textarea",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
    },
    {
      "type": "text",
      "id": "btn_text",
      "label": "Button Text"
    },
    {
      "type": "url",
      "id": "btn_link",
      "label": "Button Link"
    }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description"
        },
        {
          "type": "blog",
          "id": "blog",
          "label": "选择一个博客分类"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Main Help Center",
      "category": "Custom"
    }
  ]
}
{% endschema %}
